# Gradle options from: https://gitlab.com/gitlab-org/gitlab-foss/-/blob/master/lib/gitlab/ci/templates/Gradle.gitlab-ci.yml
variables:
  GRADLE_OPTS: "-Dorg.gradle.daemon=false"
  DOCKER_HOST: "tcp://docker:2375"
  DOCKER_DRIVER: overlay2

stages:
  - test
  - build
  - build image
  - publish image

include:
  - local: "/pipeline/gitlab-jvm.yml"
  - local: "/pipeline/gitlab-docker.yml"
  - '/services/auth-keycloak/.gitlab-ci.yml'
  - '/services/gateway/.gitlab-ci.yml'
  - '/services/habit/.gitlab-ci.yml'
  - '/services/track/.gitlab-ci.yml'
  - '/services/report/.gitlab-ci.yml'
  - '/services/ui/.gitlab-ci.yml'
